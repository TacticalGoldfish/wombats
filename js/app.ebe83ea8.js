(function(){"use strict";var e={4149:function(e,t,n){var l=n(144),i=n(998),s=n(1215),r=n(9223),o=n(2928),a=n(535),c=n(5157),u=n(8754),d=n(8491),m=function(){var e=this,t=e._self._c;return t(i.Z,[t(o.Z,[t(a.Z,{model:{value:e.selectedStep,callback:function(t){e.selectedStep=t},expression:"selectedStep"}},[t(u.Rp,[e._l(e.modules,(function(n,l){return[l>0?t(r.Z,{key:n.id}):e._e(),t(d.Z,{key:`${n.id}-step`,attrs:{complete:e.selectedStep>n.id,step:n.id,editable:""}},[e._v(" "+e._s(n.title)+" ")])]}))],2),t(u.gd,e._l(e.modules,(function(n){return t(c.Z,{key:`${n.id}-content`,attrs:{step:n.id}},[t(s.Z,{staticClass:"mb-12"},[t("dynamic-entry-list",{ref:`${n.shortcut}-module`,refInFor:!0,attrs:{module:n},on:{switchModule:(t,n)=>e.switchModule(t,n)}})],1)],1)})),1)],1)],1)],1)},h=[],y=n(266),f=n(2150),p=n(1114),g=n(8111),v=n(400),w=n(5756),x=n(1713),$=function(){var e=this,t=e._self._c;return t(f.Z,[t(x.Z,{staticClass:"text-center"},[t(y.Z,{attrs:{cols:"12"}},[e.module&&e.entries?t(w.Z,{attrs:{value:"id"},model:{value:e.selectedEntry,callback:function(t){e.selectedEntry=t},expression:"selectedEntry"}},e._l(e.entries,(function(n,l){return t(p.Z,{key:`c-${l}`},[t(v.Z,[t("span",{staticStyle:{"font-weight":"bold","font-size":"20px"}},[e._v(e._s(n.type?`${n.type} - `:"")+" "+e._s(n.name)+" "+e._s(n.alias&&""!=n.alias?`(${n.alias})`:""))])]),t(g.Z,[e._l(n.contents,(function(n,l){return[t("DynamicElement",{key:`${n.type}-element-${l}-layer-0`,attrs:{element:n,layer:1},on:{openDetails:(t,n)=>e.openDetails(t,n)}})]}))],2)],1)})),1):e._e()],1)],1)],1)},_=[];n(7658);function b(e){let t=e.split("{{"),n=[];return t.forEach((e=>{if(e.includes("}}")){const t=e.split("}}");if(t[0].includes("<br />"))n.push({type:"nl"});else{const e=t[0].split("|");n.push({type:"a",text:e[0],module:e[1],id:e[2]})}n.push({type:"span",text:t[1]})}else n.push({type:"span",text:e})})),n}var k=n(5495),S=function(){var e=this,t=e._self._c;return"span"==e.element.type?t("span",{class:e.element.class?e.element.class:"",style:e.element.style?e.element.style:""},[e._v(" "+e._s(e.element.text)+" ")]):"anchor"==e.element.type?t("a",{class:e.element.class?e.element.class:"",style:e.element.style?e.element.style:"",on:{click:function(t){return t.preventDefault(),e.openDetails(e.element.targetModule,e.element.targetId)}}},[e._v(" "+e._s(e.element.text)+" ")]):"row"==e.element.type?t(x.Z,{class:e.element.class?e.element.class:"",style:e.element.style?e.element.style:""},[e._v(" "+e._s(e.element.text?e.element.text:"")+" "),e._l(e.element.children,(function(n,l){return t("DynamicElement",{key:`${n.type}-element-${l}-layer-${e.layer}`,attrs:{element:n,layer:e.layer+1},on:{openDetails:(t,n)=>e.openDetails(t,n)}})}))],2):"column"==e.element.type?t(y.Z,{class:e.element.class?e.element.class:"",style:e.element.style?e.element.style:"",attrs:{lg:e.element.colslg,md:e.element.colsmd,sm:e.element.colssm,xs:e.element.colsxs,cols:e.element.cols}},[e._v(" "+e._s(e.element.text?e.element.text:"")+" "),e._l(e.element.children,(function(n,l){return t("DynamicElement",{key:`${n.type}-element-${l}-layer-${e.layer}`,attrs:{element:n,layer:e.layer+1},on:{openDetails:(t,n)=>e.openDetails(t,n)}})}))],2):"newLine"==e.element.type?t("br"):"map"==e.element.type?t("div",{ref:"container",staticStyle:{"justify-content":"center",display:"flex"},style:{height:"100%",width:"100%"}},[t("Konva-stage",{ref:"stage",attrs:{config:e.stageSize}},[e.element.xyGrid&&2==e.element.xyGrid.length?t("Konva-layer",{ref:"gridLayer"}):e._e(),t("Konva-layer",{ref:"layer"},[t("Konva-image",{attrs:{config:{image:e.computedImage},src:`./img/${e.element.source}`,height:e.element.height,contain:!!e.element.contain&&e.element.contain}}),e.element.xyGrid&&2==e.element.xyGrid.length?[e._l(e.element.xyGrid[0]+1,(function(n){return t("Konva-line",{key:`element-${e.element.type}-layer-${e.layer}-vert-${n}`,attrs:{config:{points:[e.stageSize.width/e.element.xyGrid[0]*n,0,e.stageSize.width/e.element.xyGrid[0]*n,e.stageSize.height],strokeWidth:2,stroke:`${e.element.xyGridColor}`}}})})),e._l(e.element.xyGrid[1]+1,(function(n){return t("Konva-line",{key:`element-${e.element.type}-layer-${e.layer}-horiz-${n}`,attrs:{config:{points:[0,e.stageSize.height/e.element.xyGrid[1]*n,e.stageSize.width,e.stageSize.height/e.element.xyGrid[1]*n],strokeWidth:2,stroke:`${e.element.xyGridColor}`}}})})),e.element.pins?e._l(e.element.pins,(function(n,l){return t("Konva-label",{key:`element-${e.element.type}-layer-${e.layer}-pin-${l}`,attrs:{config:{x:e.stageSize.width/e.element.xyGrid[0]*n.x,y:e.stageSize.height/e.element.xyGrid[1]*n.y,opacity:.75}},on:{pointerclick:function(t){return e.openDetails(n.targetModule,n.targetId)},mouseenter:e.handleMouseEnter,mouseleave:e.handleMouseLeave}},[t("Konva-tag",{attrs:{config:{fill:"black",pointerDirection:"down",pointerWidth:10,pointerHeight:10,lineJoin:"round",shadowColor:"black",shadowBlur:10,shadowOffset:10,shadowOpacity:.5}}}),t("Konva-text",{attrs:{config:{text:n.text,fontFamily:"Calibri",fontSize:18,padding:5,fill:"white"}}})],1)})):e._e()]:e._e()],2)],1)],1):"image"==e.element.type?t(k.Z,{attrs:{src:`./img/${e.element.source}`,height:e.element.height,contain:!!e.element.contain&&e.element.contain}}):e._e()},D=[];const Z=window.innerWidth,E=window.innerHeight;var z={name:"DynamicElement",components:{DynamicElement:M},data:()=>({selectedCharacter:null,stageSize:{width:Z,height:E},image:null}),computed:{computedImage(){return this.image}},props:{element:{type:Object,default:()=>{}},layer:{type:Number,default:0}},created:function(){window.addEventListener("resize",this.changeRect)},watch:{element:{immediate:!0,handler(e){e&&"map"==e.type&&this.changeRect()}}},methods:{unpackDescription(e){const t=b(e);return t},openDetails(e,t){this.$emit("openDetails",e,t)},async changeRect(){await this.$nextTick();const e=this.$refs.container;if(!e)return;const t=new window.Image;t.src=`./img/${this.element.source}`;const n=e.offsetParent.offsetWidth/t.width,l=t.height*n,i=e.offsetWidth;t.width=i,t.height=l,this.stageSize.width=i,this.stageSize.height=l,t.onload=()=>{this.$set(),this.image=t}},handleMouseEnter(e){const t=e.target.getStage();t.container().style.cursor="pointer"},handleMouseLeave(e){const t=e.target.getStage();t.container().style.cursor="default"}}},O=z,j=n(1001),G=(0,j.Z)(O,S,D,!1,null,null,null),M=G.exports,K={name:"DynamicEntryList",components:{DynamicElement:M},data:()=>({selectedEntry:null,entries:[]}),props:{module:{type:Object,default:()=>{}}},watch:{module:{immediate:!0,handler(e){e&&("string"==typeof this.module.entries?this.fetchEntryJson().then((e=>{this.entries=e})):"object"==typeof this.module.entries&&(this.entries=[...this.module.entries]))}}},computed:{},methods:{unpackDescription(e){const t=b(e);return t},openDetails(e,t){if(e==this.module.shortcut){console.log(this.module);const e=this.entries.findIndex((e=>e.id==t));this.selectedEntry=e}else this.$emit("switchModule",e,t)},async fetchEntryJson(){const e=await fetch(`/${this.module.entries}`),t=await e.json();return t}}},C=K,I=(0,j.Z)(C,$,_,!1,null,null,null),L=I.exports,T={name:"App",components:{DynamicEntryList:L},created(){this.init()},data:()=>({selectedStep:1,selectedModule:1}),computed:{modules(){return this.$modules?this.$modules:[]}},watch:{},methods:{init(){this.$vuetify.theme.dark=!0},switchModule(e,t){const n=this.modules.find((t=>t.shortcut==e));n&&this.$refs[`${e}-module`]&&this.$refs[`${e}-module`][0]&&(this.selectedStep=n.id,this.$refs[`${e}-module`][0].openDetails(e,t))}}},W=T,P=(0,j.Z)(W,m,h,!1,null,null,null),R=P.exports,F=n(8864);l["default"].use(F.Z);var J=new F.Z({}),H=n(6168),A=n.n(H);l["default"].config.productionTip=!1,l["default"].use(A(),{prefix:"Konva"}),fetch("/modules.json").then((e=>e.json())).then((e=>{l["default"].prototype.$modules=e,new l["default"]({vuetify:J,render:e=>e(R)}).$mount("#app")}))}},t={};function n(l){var i=t[l];if(void 0!==i)return i.exports;var s=t[l]={exports:{}};return e[l].call(s.exports,s,s.exports,n),s.exports}n.m=e,function(){var e=[];n.O=function(t,l,i,s){if(!l){var r=1/0;for(u=0;u<e.length;u++){l=e[u][0],i=e[u][1],s=e[u][2];for(var o=!0,a=0;a<l.length;a++)(!1&s||r>=s)&&Object.keys(n.O).every((function(e){return n.O[e](l[a])}))?l.splice(a--,1):(o=!1,s<r&&(r=s));if(o){e.splice(u--,1);var c=i();void 0!==c&&(t=c)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[l,i,s]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var l in t)n.o(t,l)&&!n.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,l){var i,s,r=l[0],o=l[1],a=l[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(a)var u=a(n)}for(t&&t(l);c<r.length;c++)s=r[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(u)},l=self["webpackChunkdnd_organizer"]=self["webpackChunkdnd_organizer"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=n.O(void 0,[998],(function(){return n(4149)}));l=n.O(l)})();
//# sourceMappingURL=app.ebe83ea8.js.map